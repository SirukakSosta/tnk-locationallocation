function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return(_setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);if(n){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(e):n}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{i1rK:function(e,n,t){"use strict";t.r(n),t.d(n,"NewAnalysisModule",(function(){return _e}));var i=t("ofXK"),o=t("tyNb"),r=t("3Pt+"),a=t("fXoL"),s=t("cn6w"),c=t("+rOU"),u=t("XNiG"),l=t("rDax"),f=t("JwMs"),h=t("/KA4"),b=t("1G5W"),p=t("pdGh"),m=t("FwiY"),d=t("GR68"),g=t("2Suw");function y(e,n){if(1&e){var t=a.Xb();a.Wb(0,"nz-message",2),a.ec("destroyed",(function(e){return a.wc(t),a.ic().remove(e.id,e.userAction)})),a.Vb()}2&e&&a.nc("instance",n.$implicit)}function v(e,n){1&e&&a.Rb(0,"i",10)}function C(e,n){1&e&&a.Rb(0,"i",11)}function z(e,n){1&e&&a.Rb(0,"i",12)}function k(e,n){1&e&&a.Rb(0,"i",13)}function w(e,n){1&e&&a.Rb(0,"i",14)}function _(e,n){if(1&e&&(a.Ub(0),a.Rb(1,"span",15),a.Tb()),2&e){var t=a.ic();a.Cb(1),a.nc("innerHTML",t.instance.content,a.xc)}}var S,T,x,O,V,W,M,I=0,P=((T=function(){function e(n,t){_classCallCheck(this,e),this.cdr=n,this.nzConfigService=t,this.instances=[],this.destroy$=new u.a,this.updateConfig()}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscribeConfigChange()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"create",value:function(e){var n=this.onCreate(e);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[].concat(_toConsumableArray(this.instances),[n]),this.readyInstances(),n}},{key:"remove",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.instances.some((function(i,o){return i.messageId===e&&(n.instances.splice(o,1),n.instances=_toConsumableArray(n.instances),n.onRemove(i,t),n.readyInstances(),!0)}))}},{key:"removeAll",value:function(){var e=this;this.instances.forEach((function(n){return e.onRemove(n,!1)})),this.instances=[],this.readyInstances()}},{key:"onCreate",value:function(e){return e.options=this.mergeOptions(e.options),e.onClose=new u.a,e}},{key:"onRemove",value:function(e,n){e.onClose.next(n),e.onClose.complete()}},{key:"readyInstances",value:function(){this.cdr.detectChanges()}},{key:"mergeOptions",value:function(e){var n=this.config,t=n.nzDuration,i=n.nzAnimate,o=n.nzPauseOnHover;return Object.assign({nzDuration:t,nzAnimate:i,nzPauseOnHover:o},e)}}]),e}()).\u0275fac=function(e){a.dc()},T.\u0275dir=a.Lb({type:T}),T),A=((S=function(){function e(n){_classCallCheck(this,e),this.cdr=n,this.destroyed=new a.n,this.eraseTimer=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter"),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}},{key:"ngOnDestroy",value:function(){this.autoClose&&this.clearEraseTimeout()}},{key:"onEnter",value:function(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}},{key:"onLeave",value:function(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}},{key:"destroy",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),setTimeout((function(){e.destroyed.next({id:e.instance.messageId,userAction:n})}),200)):this.destroyed.next({id:this.instance.messageId,userAction:n})}},{key:"initErase",value:function(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}},{key:"updateTTL",value:function(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}},{key:"startEraseTimeout",value:function(){var e=this;this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout((function(){return e.destroy()}),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}},{key:"clearEraseTimeout",value:function(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}]),e}()).\u0275fac=function(e){a.dc()},S.\u0275dir=a.Lb({type:S}),S),j={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24},E=((M=function(e){_inherits(t,e);var n=_createSuper(t);function t(e,i){var o;return _classCallCheck(this,t),(o=n.call(this,e,i)).destroy$=new u.a,o.instances=[],o}return _createClass(t,[{key:"subscribeConfigChange",value:function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent("message").pipe(Object(b.a)(this.destroy$)).subscribe((function(){return e.updateConfig()}))}},{key:"updateConfig",value:function(){this.config=Object.assign(Object.assign(Object.assign({},j),this.config),this.nzConfigService.getConfigForComponent("message")),this.top=Object(h.j)(this.config.nzTop),this.cdr.markForCheck()}}]),t}(P)).\u0275fac=function(e){return new(e||M)(a.Qb(a.h),a.Qb(g.a))},M.\u0275cmp=a.Kb({type:M,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[a.zb],decls:2,vars:3,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(e,n){1&e&&(a.Wb(0,"div",0),a.Cc(1,y,1,1,"nz-message",1),a.Vb()),2&e&&(a.Bc("top",n.top),a.Cb(1),a.nc("ngForOf",n.instances))},directives:function(){return[i.j,F]},encapsulation:2,changeDetection:0}),M),R=((W=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:W}),W.\u0275inj=a.Nb({factory:function(e){return new(e||W)}}),W),L=((V=function(e){_inherits(t,e);var n=_createSuper(t);function t(e,i,o){var r;return _classCallCheck(this,t),(r=n.call(this,e,i,o)).componentPrefix="message-",r}return _createClass(t,[{key:"success",value:function(e,n){return this.createInstance({type:"success",content:e},n)}},{key:"error",value:function(e,n){return this.createInstance({type:"error",content:e},n)}},{key:"info",value:function(e,n){return this.createInstance({type:"info",content:e},n)}},{key:"warning",value:function(e,n){return this.createInstance({type:"warning",content:e},n)}},{key:"loading",value:function(e,n){return this.createInstance({type:"loading",content:e},n)}},{key:"create",value:function(e,n,t){return this.createInstance({type:e,content:n},t)}},{key:"createInstance",value:function(e,n){return this.container=this.withContainer(E),this.container.create(Object.assign(Object.assign({},e),{createdAt:new Date,messageId:this.getInstanceId(),options:n}))}}]),t}(function(){function e(n,t,i){_classCallCheck(this,e),this.nzSingletonService=n,this.overlay=t,this.injector=i}return _createClass(e,[{key:"remove",value:function(e){this.container&&(e?this.container.remove(e):this.container.removeAll())}},{key:"getInstanceId",value:function(){return"".concat(this.componentPrefix,"-").concat(I++)}},{key:"withContainer",value:function(e){var n=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(n)return n;var t=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),i=new c.b(e,null,this.injector),o=t.attach(i);return t.overlayElement.style.zIndex="1010",n||(this.container=n=o.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,n)),n}}]),e}())).\u0275fac=function(e){return new(e||V)(a.ac(f.d),a.ac(l.d),a.ac(a.r))},V.\u0275prov=Object(a.Mb)({factory:function(){return new V(Object(a.ac)(f.d),Object(a.ac)(l.d),Object(a.ac)(a.o))},token:V,providedIn:R}),V),F=((O=function(e){_inherits(t,e);var n=_createSuper(t);function t(e){var i;return _classCallCheck(this,t),(i=n.call(this,e)).destroyed=new a.n,i}return t}(A)).\u0275fac=function(e){return new(e||O)(a.Qb(a.h))},O.\u0275cmp=a.Kb({type:O,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[a.zb],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(e,n){1&e&&(a.Wb(0,"div",0),a.ec("mouseenter",(function(){return n.onEnter()}))("mouseleave",(function(){return n.onLeave()})),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Ub(3,3),a.Cc(4,v,1,0,"i",4),a.Cc(5,C,1,0,"i",5),a.Cc(6,z,1,0,"i",6),a.Cc(7,k,1,0,"i",7),a.Cc(8,w,1,0,"i",8),a.Tb(),a.Cc(9,_,2,1,"ng-container",9),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.nc("@moveUpMotion",n.instance.state),a.Cb(2),a.nc("ngClass","ant-message-"+n.instance.type),a.Cb(1),a.nc("ngSwitch",n.instance.type),a.Cb(1),a.nc("ngSwitchCase","success"),a.Cb(1),a.nc("ngSwitchCase","info"),a.Cb(1),a.nc("ngSwitchCase","warning"),a.Cb(1),a.nc("ngSwitchCase","error"),a.Cb(1),a.nc("ngSwitchCase","loading"),a.Cb(1),a.nc("nzStringTemplateOutlet",n.instance.content))},directives:[i.i,i.m,i.n,p.b,m.b],encapsulation:2,data:{animation:[d.c]},changeDetection:0}),O),B=((x=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:x}),x.\u0275inj=a.Nb({factory:function(e){return new(e||x)},imports:[[i.c,l.e,m.c,p.a,R]]}),x),N=t("ocnv"),X=t("B+r4"),D=t("PTRe"),G=t("z4wI"),U=t("OzZK"),q=t("mrSG"),H=t("RwU8"),K=t("C2AL");function Q(e,n){1&e&&(a.Wb(0,"h3"),a.Ec(1,"Drag and drop or select a *.csv file"),a.Vb())}function J(e,n){if(1&e){var t=a.Xb();a.Wb(0,"div"),a.Wb(1,"span",4),a.Ec(2),a.Vb(),a.Wb(3,"span",5),a.Ec(4),a.Vb(),a.Wb(5,"span",6),a.Wb(6,"button",7),a.ec("click",(function(){return a.wc(t),a.ic().removeFile()})),a.Rb(7,"i",8),a.Vb(),a.Vb(),a.Vb()}if(2&e){var i=a.ic();a.Cb(2),a.Gc(" ",i.filename," "),a.Cb(2),a.Gc("",i.fileSize,"MB"),a.Cb(2),a.nc("nzSize","small")}}var $,Y=(($=function(){function e(n,t){_classCallCheck(this,e),this.msg=n,this.commonApi=t,this.loading=!1,this.markers=new a.n,this.csvBlob=new a.n}return _createClass(e,[{key:"postMethod",value:function(e){return Object(q.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.fileToUpload=e.item(0),this.filename=this.fileToUpload.name,this.fileSize=this.bytesToMegaBytes(this.fileToUpload.size),this.loading=!0,n.prev=1,n.next=4,this.commonApi.extractCsv(this.fileToUpload);case 4:t=n.sent,this.msg.info("Successful csv upload"),this.markers.emit(t),this.csvBlob.emit(this.fileToUpload),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.msg.error("Error on upload"),console.log(n.t0);case 11:return n.abrupt("return",(this.loading=!1,!1));case 12:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"bytesToMegaBytes",value:function(e){return(9.5367431640625e-7*e).toFixed(2)}},{key:"removeFile",value:function(){this.filename=null}}]),e}()).\u0275fac=function(e){return new(e||$)(a.Qb(L),a.Qb(s.a))},$.\u0275cmp=a.Kb({type:$,selectors:[["app-tkn-upload"]],outputs:{markers:"markers",csvBlob:"csvBlob"},decls:5,vars:2,consts:[[1,"upload-wrap"],["id","myForm","type","file","name","file",1,"file-upload-input",3,"change"],[1,"drag-text"],[4,"ngIf"],[1,"filename"],[1,"filesize"],[1,"remove"],["nz-button","","nzType","primary",3,"nzSize","click"],["nz-icon","","nzType","close"]],template:function(e,n){1&e&&(a.Wb(0,"div",0),a.Wb(1,"input",1),a.ec("change",(function(e){return n.postMethod(e.target.files)})),a.Vb(),a.Wb(2,"div",2),a.Cc(3,Q,2,0,"h3",3),a.Cc(4,J,8,3,"div",3),a.Vb(),a.Vb()),2&e&&(a.Cb(3),a.nc("ngIf",!n.filename&&!n.loading),a.Cb(1),a.nc("ngIf",n.filename))},directives:[i.k,U.a,H.a,K.a,m.b],styles:["[_nghost-%COMP%]     .avatar-uploader>.ant-upload{width:128px;height:128px}.upload-wrap[_ngcontent-%COMP%]{margin-top:20px;position:relative;background:#f0eeee;border:1px solid #e3e1e1;height:150px;display:flex;justify-content:center;align-items:center}.upload-wrap[_ngcontent-%COMP%]:hover{background-color:#e4e4e4}.drag-text[_ngcontent-%COMP%]{text-align:center}.file-upload-input[_ngcontent-%COMP%]{position:absolute;margin:0;padding:0;width:100%;height:100%;outline:none;opacity:0;cursor:pointer}.filename[_ngcontent-%COMP%]{font-size:18px}.filesize[_ngcontent-%COMP%]{font-size:10px;font-style:italic;padding:0 5px}"]}),$),Z=t("WlLC");function ee(e,n){if(1&e){var t=a.Xb();a.Wb(0,"div",1),a.Wb(1,"div",2),a.Wb(2,"div"),a.Wb(3,"span",3),a.Ec(4,"Step 2"),a.Vb(),a.Ec(5,": Please select the area by drawing a rectangle from the map toolbar. "),a.Vb(),a.Vb(),a.Wb(6,"app-tnk-maps",7),a.ec("boundingBox",(function(e){return a.wc(t),a.ic().getBoundingBox(e)})),a.Vb(),a.Vb()}if(2&e){var i=a.ic();a.Cb(6),a.nc("markers",i.markers)}}function ne(e,n){if(1&e){var t=a.Xb();a.Wb(0,"div",1),a.Wb(1,"div",2),a.Wb(2,"div"),a.Wb(3,"span",3),a.Ec(4,"Step 3"),a.Vb(),a.Ec(5,": Please fill the required details "),a.Vb(),a.Vb(),a.Wb(6,"div",8),a.Wb(7,"form",9),a.ec("ngSubmit",(function(){return a.wc(t),a.ic().submitForm()})),a.Wb(8,"div",10),a.Wb(9,"div",11),a.Wb(10,"nz-form-item"),a.Wb(11,"nz-form-label",12),a.Ec(12,"Task Name"),a.Vb(),a.Wb(13,"nz-form-control",13),a.Rb(14,"input",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(15,"div",11),a.Wb(16,"nz-form-item"),a.Wb(17,"nz-form-label",15),a.Ec(18,"Grid Length"),a.Vb(),a.Wb(19,"nz-form-control",16),a.Rb(20,"nz-input-number",17),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(21,"div",10),a.Wb(22,"div",11),a.Wb(23,"nz-form-item"),a.Wb(24,"nz-form-label",18),a.Ec(25,"Min p-value"),a.Vb(),a.Wb(26,"nz-form-control",19),a.Rb(27,"nz-input-number",20),a.Vb(),a.Vb(),a.Vb(),a.Wb(28,"div",11),a.Wb(29,"nz-form-item"),a.Wb(30,"nz-form-label",21),a.Ec(31,"Max p-value"),a.Vb(),a.Wb(32,"nz-form-control",19),a.Rb(33,"nz-input-number",22),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){var i=a.ic();a.Cb(7),a.nc("formGroup",i.validateForm),a.Cb(1),a.nc("nzGutter",10),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",6)("nzXs",24),a.Cb(2),a.nc("nzSm",18)("nzXs",24),a.Cb(2),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",6)("nzXs",24),a.Cb(2),a.nc("nzSm",18)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",140)("nzStep",1),a.Cb(1),a.nc("nzGutter",10),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",6)("nzXs",24),a.Cb(2),a.nc("nzSm",18)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",30)("nzStep",1),a.Cb(1),a.nc("nzSpan",12),a.Cb(2),a.nc("nzSm",6)("nzXs",24),a.Cb(2),a.nc("nzSm",18)("nzXs",24),a.Cb(1),a.nc("nzMin",1)("nzMax",30)("nzStep",1)}}function te(e,n){if(1&e){var t=a.Xb();a.Wb(0,"button",23),a.ec("click",(function(){return a.wc(t),a.ic().startNewTask()})),a.Rb(1,"i",24),a.Ec(2,"Start new task "),a.Vb()}}var ie,oe,re,ae=[{path:"",component:(ie=function(){function e(n,t,i){_classCallCheck(this,e),this.commonApi=n,this.msg=t,this.fb=i,this.loading=!1,this.boxes=[!0,!0,!0],this.showMapSelection=!1,this.formIsValid=!1,this.markers=[],this.boundingBox=null,this.taskMeta={name:"this is a test",time:{submit:"12:38:00"},job_type:"pmedian",properties:{type:"geographic",cost_type:"time",demand_pts:{if_out_of_bounds:"exclude"},box:{sw:"52.25,-0.1",ne:"52.5,0.4",grid_height:"None",grid_length:10},p_val:{min:3,max:5}}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.validateForm=this.fb.group({name:[null,[r.o.required]],gridLength:[null,[r.o.required]],minVal:[null,[r.o.required]],maxVal:[null,[r.o.required]]}),this.validateForm.statusChanges.subscribe((function(n){e.formIsValid="VALID"===n}))}},{key:"updateConfirmValidator",value:function(){var e=this;Promise.resolve().then((function(){return e.validateForm.controls.checkPassword.updateValueAndValidity()}))}},{key:"submitForm",value:function(){for(var e in this.validateForm.controls)this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity()}},{key:"getMarkers",value:function(e){var n=this;this.csvMarkers=e,this.showMapSelection=!0,this.boundingBox=null,this.markers=e,this.loading=!0,setTimeout((function(){n.boxes[0]=!1,n.loading=!1}),500)}},{key:"getCsvBlob",value:function(e){this.csv=e,console.log("csv blob"),console.log(e)}},{key:"getBoundingBox",value:function(e){this.boundingBox=e}},{key:"startNewTask",value:function(){var e=this,n=this.validateForm.value,t=n.gridLength,i=n.maxVal,o=n.minVal,r=n.name,a={sw:null,ne:null,grid_height:null,grid_length:null},s=this.boundingBox,c=s._northEast,u=s._southWest;a.sw="".concat(u.lat,",").concat(u.lng),a.ne="".concat(c.lat,",").concat(c.lng),a.grid_height="None",a.grid_length=t,this.taskMeta.properties.box=a,this.taskMeta.name=r,this.taskMeta.properties.p_val.max=i,this.taskMeta.properties.p_val.min=o,console.log(this.taskMeta),this.commonApi.newTask(this.csv,JSON.stringify(this.taskMeta)).then((function(n){e.msg.info("Task ".concat(r," has started"))})).catch((function(n){e.msg.error("Error starting new task")}))}}]),e}(),ie.\u0275fac=function(e){return new(e||ie)(a.Qb(s.a),a.Qb(L),a.Qb(r.d))},ie.\u0275cmp=a.Kb({type:ie,selectors:[["app-new-analysis"]],decls:11,vars:3,consts:[["id","new-analysis"],[1,"box","border","shadow"],[1,"step"],[1,"highlight"],[3,"markers","csvBlob"],["class","box border shadow",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[3,"markers","boundingBox"],[1,"row"],["nz-form","",3,"formGroup","ngSubmit"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nzErrorTip","Please enter a valid task name!",3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","name"],["nzRequired","","nzFor","gridLength",3,"nzSm","nzXs"],["nzErrorTip","Please enter a valid grid length!",3,"nzSm","nzXs"],["formControlName","gridLength","id","gridLength",3,"nzMin","nzMax","nzStep"],["nzRequired","","nzFor","minVal",3,"nzSm","nzXs"],["nzErrorTip","Please enter a valid p-value!",3,"nzSm","nzXs"],["formControlName","minVal","id","minVal",3,"nzMin","nzMax","nzStep"],["nzRequired","","nzFor","maxVal",3,"nzSm","nzXs"],["formControlName","maxVal","id","maxVal",3,"nzMin","nzMax","nzStep"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","enter"]],template:function(e,n){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"div"),a.Wb(4,"span",3),a.Ec(5,"Step 1"),a.Vb(),a.Ec(6,": Please upload a csv file. "),a.Vb(),a.Vb(),a.Wb(7,"app-tkn-upload",4),a.ec("markers",(function(e){return n.getMarkers(e)}))("csvBlob",(function(e){return n.getCsvBlob(e)})),a.Vb(),a.Vb(),a.Cc(8,ee,7,1,"div",5),a.Cc(9,ne,34,32,"div",5),a.Cc(10,te,3,0,"button",6),a.Vb()),2&e&&(a.Cb(8),a.nc("ngIf",n.showMapSelection),a.Cb(1),a.nc("ngIf",n.boundingBox),a.Cb(1),a.nc("ngIf",n.markers.length>0&&n.boundingBox&&n.formIsValid))},directives:[Y,i.k,Z.a,r.p,r.l,N.b,r.g,X.c,X.a,N.c,N.d,N.a,D.a,r.c,r.k,r.f,G.a,U.a,H.a,K.a,m.b],styles:["#new-analysis[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{font-weight:400;margin-bottom:40px;display:flex;justify-content:space-between;align-items:center}#new-analysis[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-weight:600}"]}),ie)}],se=((oe=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:oe}),oe.\u0275inj=a.Nb({factory:function(e){return new(e||oe)},imports:[[o.e.forChild(ae)],o.e]}),oe),ce=t("xVJt"),ue=(t("FtGj"),t("tk/3"),t("79xS"),t("LRne"),t("HDdC"),t("quSY"),t("eIep"),t("lJxs"),t("pLZG"),t("R0Ic"),t("nLfN")),le=t("Rm4T"),fe=((re=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:re}),re.\u0275inj=a.Nb({factory:function(e){return new(e||re)},imports:[[i.c,m.c,p.a]]}),re),he=t("YF2q"),be=t("JgHy");t("/uUt");var pe,me,de,ge,ye=((me=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:me}),me.\u0275inj=a.Nb({factory:function(e){return new(e||me)},imports:[[i.c,l.e,p.a,be.c,he.b]]}),me),ve=((pe=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:pe}),pe.\u0275inj=a.Nb({factory:function(e){return new(e||pe)},imports:[[i.c,r.h,ue.b,ye,fe,le.b,m.c]]}),pe),Ce=t("CSM4"),ze=((de=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:de}),de.\u0275inj=a.Nb({factory:function(e){return new(e||de)},imports:[[i.c,ve,B,Ce.a]]}),de),ke=t("pKmL"),we=t("UPf0"),_e=((ge=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ob({type:ge}),ge.\u0275inj=a.Nb({factory:function(e){return new(e||ge)},imports:[[i.c,se,ce.a,ze,Ce.a,ke.a,we.a]]}),ge)}}]);